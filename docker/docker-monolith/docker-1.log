docker images
REPOSITORY                                                                                        TAG                     IMAGE ID       CREATED         SIZE
virtualb0x/ubuntu-tmp-file                                                                        latest                  fe3b23c767cc   15 hours ago    63.1MB
python                                                                                            3.8-slim-buster         c8fb45d269c5   47 hours ago    117MB
nginx                                                                                             latest                  b692a91e4e15   3 days ago      142MB
ubuntu                                                                                            18.04                   8d5df41c547b   3 days ago      63.1MB
hello-world                                                                                       latest                  feb5d9fea6a5   10 months ago   13.3kB

Image несёт в себе "слепок системы", изменяя Image в конфигурации или в контейнеры мы создаём новые слои Image. Container это запущеный Image с набором нужных слоёв. В конфигурации ниже видно, что запускаемый Container ссылается на конкретный id Image.

docker inspect b692a91e4e15                                                                                                                                                                                        ✔  LDAP_auth_exporter 
[
{
"Id": "sha256:b692a91e4e1582db97076184dae0b2f4a7a86b68c4fe6f91affa50ae06369bf5",
"RepoTags": [
"nginx:latest"
],
"RepoDigests": [
"nginx@sha256:ecc068890de55a75f1a32cc8063e79f90f0b043d70c5fcf28f1713395a4b3d49"
],
"Parent": "",
"Comment": "",
"Created": "2022-08-02T05:17:19.274343015Z",
"Container": "5f19bc2cd794cd60ec845cbed7a60c85003dc56f26ee807f9eea2480bc465b76",
"ContainerConfig": {
"Hostname": "5f19bc2cd794",
"Domainname": "",
"User": "",
"AttachStdin": false,
"AttachStdout": false,
"AttachStderr": false,
"ExposedPorts": {
"80/tcp": {}
},
"Tty": false,
"OpenStdin": false,
"StdinOnce": false,
"Env": [
"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
"NGINX_VERSION=1.23.1",
"NJS_VERSION=0.7.6",
"PKG_RELEASE=1~bullseye"
],
"Cmd": [
"/bin/sh",
"-c",
"#(nop) ",
"CMD [\"nginx\" \"-g\" \"daemon off;\"]"
],
"Image": "sha256:0417134432daa8913f92f7bf71641a8fa7ab3405c91b717dde22c855e71eef4d",
"Volumes": null,
"WorkingDir": "",
"Entrypoint": [
"/docker-entrypoint.sh"
],
"OnBuild": null,
"Labels": {
"maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
},
"StopSignal": "SIGQUIT"
},
"DockerVersion": "20.10.12",
"Author": "",
"Config": {
"Hostname": "",
"Domainname": "",
"User": "",
"AttachStdin": false,
"AttachStdout": false,
"AttachStderr": false,
"ExposedPorts": {
"80/tcp": {}
},
"Tty": false,
"OpenStdin": false,
"StdinOnce": false,
"Env": [
"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
"NGINX_VERSION=1.23.1",
"NJS_VERSION=0.7.6",
"PKG_RELEASE=1~bullseye"
],
"Cmd": [
"nginx",
"-g",
"daemon off;"
],
"Image": "sha256:0417134432daa8913f92f7bf71641a8fa7ab3405c91b717dde22c855e71eef4d",
"Volumes": null,
"WorkingDir": "",
"Entrypoint": [
"/docker-entrypoint.sh"
],
"OnBuild": null,
"Labels": {
"maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
},
"StopSignal": "SIGQUIT"
},
"Architecture": "amd64",
"Os": "linux",
"Size": 141514895,
"VirtualSize": 141514895,
"GraphDriver": {
"Data": {
"LowerDir": "/var/lib/docker/overlay2/676363710bf0c73730f2d720404f3701f442818ca862b58bc26ece0df59bc606/diff:/var/lib/docker/overlay2/86d320ffb6e53e8029ee95f3c3740bd1178bef86805076a6d49a74d22730fd81/diff:/var/lib/docker/overlay2/88cb27eba0d957e4ec0a4c5263c7c7180da169ee7c744ee84f0e2194cc44abaf/diff:/var/lib/docker/overlay2/ecaaa32e62d6daec7ae740b2c168cd5a0511461dd70896ab59400627d88de4e1/diff:/var/lib/docker/overlay2/deeb851e0aefadc3f6b211545f9155023fa4414ffeaa6f30841a41194afcc31e/diff",
"MergedDir": "/var/lib/docker/overlay2/76e0aaf3bbca53cc1123bb15db2b7bd3eb0902e8f38dff7403a35087f6e6f20a/merged",
"UpperDir": "/var/lib/docker/overlay2/76e0aaf3bbca53cc1123bb15db2b7bd3eb0902e8f38dff7403a35087f6e6f20a/diff",
"WorkDir": "/var/lib/docker/overlay2/76e0aaf3bbca53cc1123bb15db2b7bd3eb0902e8f38dff7403a35087f6e6f20a/work"
},
"Name": "overlay2"
},
"RootFS": {
"Type": "layers",
"Layers": [
"sha256:92a4e8a3140f7a04a0e5a15793adef2d0e8889ed306a8f95a6cfb67cecb5f212",
"sha256:e3257a399753c995f54856b0cea3c2b6aa1a95d9a7b542668a46fa4eacf62d53",
"sha256:3a89c8160a43d70433241934b1d418f641e6d207a10b558b67f8aafdb15416b0",
"sha256:f91d0987b144553456431bcb8cc8ddf5d03362701bc2ffc128ce2bd57182defb",
"sha256:bdc7a32279ccdf5aba13d3e50b7b16103e03ff8ef27424ac1a33df24e5a9f602",
"sha256:b539cf60d7bb42871a005e949b550800b99fada0b1c1bca01654e8a506ba2138"
]
},
"Metadata": {
"LastTagTime": "0001-01-01T00:00:00Z"
}
}
]

docker inspect 5f10a3a7f5f8                                                                                                                                                                                        ✔  LDAP_auth_exporter 
[
{
"Id": "5f10a3a7f5f885c019257459235806110839b97dcc38141c740eddd0bf514080",
"Created": "2022-08-04T18:03:21.39306063Z",
"Path": "/docker-entrypoint.sh",
"Args": [
"nginx",
"-g",
"daemon off;"
],
"State": {
"Status": "running",
"Running": true,
"Paused": false,
"Restarting": false,
"OOMKilled": false,
"Dead": false,
"Pid": 201864,
"ExitCode": 0,
"Error": "",
"StartedAt": "2022-08-04T18:03:21.720314111Z",
"FinishedAt": "0001-01-01T00:00:00Z"
},
"Image": "sha256:b692a91e4e1582db97076184dae0b2f4a7a86b68c4fe6f91affa50ae06369bf5",
"ResolvConfPath": "/var/lib/docker/containers/5f10a3a7f5f885c019257459235806110839b97dcc38141c740eddd0bf514080/resolv.conf",
"HostnamePath": "/var/lib/docker/containers/5f10a3a7f5f885c019257459235806110839b97dcc38141c740eddd0bf514080/hostname",
"HostsPath": "/var/lib/docker/containers/5f10a3a7f5f885c019257459235806110839b97dcc38141c740eddd0bf514080/hosts",
"LogPath": "/var/lib/docker/containers/5f10a3a7f5f885c019257459235806110839b97dcc38141c740eddd0bf514080/5f10a3a7f5f885c019257459235806110839b97dcc38141c740eddd0bf514080-json.log",
"Name": "/competent_swanson",
"RestartCount": 0,
"Driver": "overlay2",
"Platform": "linux",
"MountLabel": "",
"ProcessLabel": "",
"AppArmorProfile": "docker-default",
"ExecIDs": null,
"HostConfig": {
"Binds": null,
"ContainerIDFile": "",
"LogConfig": {
"Type": "json-file",
"Config": {}
},
"NetworkMode": "default",
"PortBindings": {},
"RestartPolicy": {
"Name": "no",
"MaximumRetryCount": 0
},
"AutoRemove": false,
"VolumeDriver": "",
"VolumesFrom": null,
"CapAdd": null,
"CapDrop": null,
"CgroupnsMode": "private",
"Dns": [],
"DnsOptions": [],
"DnsSearch": [],
"ExtraHosts": null,
"GroupAdd": null,
"IpcMode": "private",
"Cgroup": "",
"Links": null,
"OomScoreAdj": 0,
"PidMode": "",
"Privileged": false,
"PublishAllPorts": false,
"ReadonlyRootfs": false,
"SecurityOpt": null,
"UTSMode": "",
"UsernsMode": "",
"ShmSize": 67108864,
"Runtime": "runc",
"ConsoleSize": [
0,
0
],
"Isolation": "",
"CpuShares": 0,
"Memory": 0,
"NanoCpus": 0,
"CgroupParent": "",
"BlkioWeight": 0,
"BlkioWeightDevice": [],
"BlkioDeviceReadBps": null,
"BlkioDeviceWriteBps": null,
"BlkioDeviceReadIOps": null,
"BlkioDeviceWriteIOps": null,
"CpuPeriod": 0,
"CpuQuota": 0,
"CpuRealtimePeriod": 0,
"CpuRealtimeRuntime": 0,
"CpusetCpus": "",
"CpusetMems": "",
"Devices": [],
"DeviceCgroupRules": null,
"DeviceRequests": null,
"KernelMemory": 0,
"KernelMemoryTCP": 0,
"MemoryReservation": 0,
"MemorySwap": 0,
"MemorySwappiness": null,
"OomKillDisable": null,
"PidsLimit": null,
"Ulimits": null,
"CpuCount": 0,
"CpuPercent": 0,
"IOMaximumIOps": 0,
"IOMaximumBandwidth": 0,
"MaskedPaths": [
"/proc/asound",
"/proc/acpi",
"/proc/kcore",
"/proc/keys",
"/proc/latency_stats",
"/proc/timer_list",
"/proc/timer_stats",
"/proc/sched_debug",
"/proc/scsi",
"/sys/firmware"
],
"ReadonlyPaths": [
"/proc/bus",
"/proc/fs",
"/proc/irq",
"/proc/sys",
"/proc/sysrq-trigger"
]
},
"GraphDriver": {
"Data": {
"LowerDir": "/var/lib/docker/overlay2/c9d43bf68b515ac56e1eca3e538697e25f8a1971d60caac53afc774280957e50-init/diff:/var/lib/docker/overlay2/76e0aaf3bbca53cc1123bb15db2b7bd3eb0902e8f38dff7403a35087f6e6f20a/diff:/var/lib/docker/overlay2/676363710bf0c73730f2d720404f3701f442818ca862b58bc26ece0df59bc606/diff:/var/lib/docker/overlay2/86d320ffb6e53e8029ee95f3c3740bd1178bef86805076a6d49a74d22730fd81/diff:/var/lib/docker/overlay2/88cb27eba0d957e4ec0a4c5263c7c7180da169ee7c744ee84f0e2194cc44abaf/diff:/var/lib/docker/overlay2/ecaaa32e62d6daec7ae740b2c168cd5a0511461dd70896ab59400627d88de4e1/diff:/var/lib/docker/overlay2/deeb851e0aefadc3f6b211545f9155023fa4414ffeaa6f30841a41194afcc31e/diff",
"MergedDir": "/var/lib/docker/overlay2/c9d43bf68b515ac56e1eca3e538697e25f8a1971d60caac53afc774280957e50/merged",
"UpperDir": "/var/lib/docker/overlay2/c9d43bf68b515ac56e1eca3e538697e25f8a1971d60caac53afc774280957e50/diff",
"WorkDir": "/var/lib/docker/overlay2/c9d43bf68b515ac56e1eca3e538697e25f8a1971d60caac53afc774280957e50/work"
},
"Name": "overlay2"
},
"Mounts": [],
"Config": {
"Hostname": "5f10a3a7f5f8",
"Domainname": "",
"User": "",
"AttachStdin": false,
"AttachStdout": false,
"AttachStderr": false,
"ExposedPorts": {
"80/tcp": {}
},
"Tty": true,
"OpenStdin": false,
"StdinOnce": false,
"Env": [
"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
"NGINX_VERSION=1.23.1",
"NJS_VERSION=0.7.6",
"PKG_RELEASE=1~bullseye"
],
"Cmd": [
"nginx",
"-g",
"daemon off;"
],
"Image": "nginx:latest",
"Volumes": null,
"WorkingDir": "",
"Entrypoint": [
"/docker-entrypoint.sh"
],
"OnBuild": null,
"Labels": {
"maintainer": "NGINX Docker Maintainers <docker-maint@nginx.com>"
},
"StopSignal": "SIGQUIT"
},
"NetworkSettings": {
"Bridge": "",
"SandboxID": "20fa97bf393f6dc4121e06acfb86a74a05ce9a8f5980caefb3ad32a8aec493e7",
"HairpinMode": false,
"LinkLocalIPv6Address": "",
"LinkLocalIPv6PrefixLen": 0,
"Ports": {
"80/tcp": null
},
"SandboxKey": "/var/run/docker/netns/20fa97bf393f",
"SecondaryIPAddresses": null,
"SecondaryIPv6Addresses": null,
"EndpointID": "a26b929f2b13b723808d2b029f97117729ab141dc7a78d8d1a0929221801b25a",
"Gateway": "172.17.0.1",
"GlobalIPv6Address": "",
"GlobalIPv6PrefixLen": 0,
"IPAddress": "172.17.0.3",
"IPPrefixLen": 16,
"IPv6Gateway": "",
"MacAddress": "02:42:ac:11:00:03",
"Networks": {
"bridge": {
"IPAMConfig": null,
"Links": null,
"Aliases": null,
"NetworkID": "2271b9fc3def29507bb10962eaf1562fa2392f81f6ad3230eced3020d7a2397b",
"EndpointID": "a26b929f2b13b723808d2b029f97117729ab141dc7a78d8d1a0929221801b25a",
"Gateway": "172.17.0.1",
"IPAddress": "172.17.0.3",
"IPPrefixLen": 16,
"IPv6Gateway": "",
"GlobalIPv6Address": "",
"GlobalIPv6PrefixLen": 0,
"MacAddress": "02:42:ac:11:00:03",
"DriverOpts": null
}
}
}
}
]
